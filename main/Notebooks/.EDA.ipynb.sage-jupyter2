{"backend_state":"running","connection_file":"/projects/f4382cdc-d929-4012-9815-0c5eb2f78b8d/.local/share/jupyter/runtime/kernel-61c03a1e-79d7-4304-be47-beb6b75f24fb.json","kernel":"python3-ubuntu","kernel_error":"","kernel_state":"idle","kernel_usage":{"cpu":0,"memory":0},"metadata":{"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.10"}},"trust":true,"type":"settings"}
{"cell_type":"code","end":1653422633784,"exec_count":1,"id":"bc019a","input":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport make_data\n\nimport warnings\nimport importlib\n\nwarnings.filterwarnings(\"ignore\")\nimportlib.reload(make_data)","kernel":"python3-ubuntu","output":{"0":{"data":{"text/plain":"<module 'make_data' from '/projects/f4382cdc-d929-4012-9815-0c5eb2f78b8d/Notebooks/make_data.py'>"},"exec_count":1}},"pos":0,"start":1653422632145,"state":"done","type":"cell"}
{"cell_type":"code","end":1653422638713,"exec_count":2,"id":"f615c3","input":"bat = pd.read_csv(\"../Data/all_season_batting_card.csv\")\nbowl = pd.read_csv(\"../Data/all_season_bowling_card.csv\")\nfull = pd.read_csv(\"../Data/all_season_details.csv\")\n\ndf = make_data.make_data(bat, bowl, full)\ndf.head()","kernel":"python3-ubuntu","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>season</th>\n      <th>match_id</th>\n      <th>batsman1_name</th>\n      <th>bowler1_name</th>\n      <th>home_team</th>\n      <th>away_team</th>\n      <th>current_innings</th>\n      <th>runs</th>\n      <th>ball</th>\n      <th>venue</th>\n      <th>...</th>\n      <th>avg_noballs</th>\n      <th>total_overs</th>\n      <th>total_maidens</th>\n      <th>total_conceded</th>\n      <th>total_wickets</th>\n      <th>total_dots</th>\n      <th>total_fours_c</th>\n      <th>total_sixes_c</th>\n      <th>total_wides</th>\n      <th>total_noballs</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2008</td>\n      <td>335982</td>\n      <td>Ashley Noffke</td>\n      <td>Ajit Agarkar</td>\n      <td>RCB</td>\n      <td>KKR</td>\n      <td>RCB</td>\n      <td>2</td>\n      <td>6</td>\n      <td>M.Chinnaswamy Stadium, Bengaluru</td>\n      <td>...</td>\n      <td>0.047619</td>\n      <td>130.2</td>\n      <td>0</td>\n      <td>1151</td>\n      <td>29</td>\n      <td>273</td>\n      <td>113</td>\n      <td>41</td>\n      <td>36</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>16</th>\n      <td>2008</td>\n      <td>335982</td>\n      <td>Balachandra Akhil</td>\n      <td>Ajit Agarkar</td>\n      <td>RCB</td>\n      <td>KKR</td>\n      <td>RCB</td>\n      <td>0</td>\n      <td>2</td>\n      <td>M.Chinnaswamy Stadium, Bengaluru</td>\n      <td>...</td>\n      <td>0.047619</td>\n      <td>130.2</td>\n      <td>0</td>\n      <td>1151</td>\n      <td>29</td>\n      <td>273</td>\n      <td>113</td>\n      <td>41</td>\n      <td>36</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>32</th>\n      <td>2008</td>\n      <td>335982</td>\n      <td>Cameron White</td>\n      <td>Ajit Agarkar</td>\n      <td>RCB</td>\n      <td>KKR</td>\n      <td>RCB</td>\n      <td>3</td>\n      <td>6</td>\n      <td>M.Chinnaswamy Stadium, Bengaluru</td>\n      <td>...</td>\n      <td>0.047619</td>\n      <td>130.2</td>\n      <td>0</td>\n      <td>1151</td>\n      <td>29</td>\n      <td>273</td>\n      <td>113</td>\n      <td>41</td>\n      <td>36</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>48</th>\n      <td>2011</td>\n      <td>501223</td>\n      <td>David Hussey</td>\n      <td>Ajit Agarkar</td>\n      <td>DC</td>\n      <td>KXIP</td>\n      <td>KXIP</td>\n      <td>4</td>\n      <td>2</td>\n      <td>Arun Jaitley Stadium, Delhi</td>\n      <td>...</td>\n      <td>0.047619</td>\n      <td>130.2</td>\n      <td>0</td>\n      <td>1151</td>\n      <td>29</td>\n      <td>273</td>\n      <td>113</td>\n      <td>41</td>\n      <td>36</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>62</th>\n      <td>2008</td>\n      <td>335982</td>\n      <td>Jacques Kallis</td>\n      <td>Ajit Agarkar</td>\n      <td>RCB</td>\n      <td>KKR</td>\n      <td>RCB</td>\n      <td>7</td>\n      <td>4</td>\n      <td>M.Chinnaswamy Stadium, Bengaluru</td>\n      <td>...</td>\n      <td>0.047619</td>\n      <td>130.2</td>\n      <td>0</td>\n      <td>1151</td>\n      <td>29</td>\n      <td>273</td>\n      <td>113</td>\n      <td>41</td>\n      <td>36</td>\n      <td>2</td>\n    </tr>\n  </tbody>\n</table>\n<p>5 rows Ã— 41 columns</p>\n</div>","text/plain":"    season  match_id      batsman1_name  bowler1_name home_team away_team  \\\n0     2008    335982      Ashley Noffke  Ajit Agarkar       RCB       KKR   \n16    2008    335982  Balachandra Akhil  Ajit Agarkar       RCB       KKR   \n32    2008    335982      Cameron White  Ajit Agarkar       RCB       KKR   \n48    2011    501223       David Hussey  Ajit Agarkar        DC      KXIP   \n62    2008    335982     Jacques Kallis  Ajit Agarkar       RCB       KKR   \n\n   current_innings  runs  ball                             venue  ...  \\\n0              RCB     2     6  M.Chinnaswamy Stadium, Bengaluru  ...   \n16             RCB     0     2  M.Chinnaswamy Stadium, Bengaluru  ...   \n32             RCB     3     6  M.Chinnaswamy Stadium, Bengaluru  ...   \n48            KXIP     4     2       Arun Jaitley Stadium, Delhi  ...   \n62             RCB     7     4  M.Chinnaswamy Stadium, Bengaluru  ...   \n\n   avg_noballs total_overs total_maidens  total_conceded  total_wickets  \\\n0     0.047619       130.2             0            1151             29   \n16    0.047619       130.2             0            1151             29   \n32    0.047619       130.2             0            1151             29   \n48    0.047619       130.2             0            1151             29   \n62    0.047619       130.2             0            1151             29   \n\n    total_dots  total_fours_c  total_sixes_c  total_wides  total_noballs  \n0          273            113             41           36              2  \n16         273            113             41           36              2  \n32         273            113             41           36              2  \n48         273            113             41           36              2  \n62         273            113             41           36              2  \n\n[5 rows x 41 columns]"},"exec_count":2}},"pos":1,"start":1653422633791,"state":"done","type":"cell"}
{"cell_type":"code","end":1653422639351,"exec_count":3,"id":"e739ce","input":"corr_matrix = df.corr()\nruns_corr = corr_matrix[\"runs\"].sort_values(ascending = False).reset_index()\nruns_corr = runs_corr.loc[0:5, :]\ntop_five = runs_corr[\"index\"].tolist()\nsns.heatmap(corr_matrix.loc[top_five, top_five], annot = True, cmap = \"Blues\", fmt = \".1%\")","kernel":"python3-ubuntu","output":{"0":{"data":{"text/plain":"<matplotlib.axes._subplots.AxesSubplot at 0x7fdf5c866f70>"},"exec_count":3},"1":{"data":{"image/png":"7c18b82451540bfe9728a75ed87121abfe255a10","text/plain":"<Figure size 864x504 with 2 Axes>"},"metadata":{"image/png":{"height":415,"width":642},"needs_background":"light"}}},"pos":2,"start":1653422638725,"state":"done","type":"cell"}
{"cell_type":"code","end":1653422642126,"exec_count":5,"id":"e1e543","input":"corr_matrix.loc[top_five, top_five]","kernel":"python3-ubuntu","output":{"0":{"data":{"text/html":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>runs</th>\n      <th>ball</th>\n      <th>avg_runs</th>\n      <th>avg_fours</th>\n      <th>avg_bf</th>\n      <th>avg_sixes</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>runs</th>\n      <td>1.000000</td>\n      <td>0.757104</td>\n      <td>0.258444</td>\n      <td>0.239287</td>\n      <td>0.237983</td>\n      <td>0.204236</td>\n    </tr>\n    <tr>\n      <th>ball</th>\n      <td>0.757104</td>\n      <td>1.000000</td>\n      <td>0.301006</td>\n      <td>0.294864</td>\n      <td>0.310276</td>\n      <td>0.174829</td>\n    </tr>\n    <tr>\n      <th>avg_runs</th>\n      <td>0.258444</td>\n      <td>0.301006</td>\n      <td>1.000000</td>\n      <td>0.916644</td>\n      <td>0.965561</td>\n      <td>0.702383</td>\n    </tr>\n    <tr>\n      <th>avg_fours</th>\n      <td>0.239287</td>\n      <td>0.294864</td>\n      <td>0.916644</td>\n      <td>1.000000</td>\n      <td>0.917454</td>\n      <td>0.460319</td>\n    </tr>\n    <tr>\n      <th>avg_bf</th>\n      <td>0.237983</td>\n      <td>0.310276</td>\n      <td>0.965561</td>\n      <td>0.917454</td>\n      <td>1.000000</td>\n      <td>0.547113</td>\n    </tr>\n    <tr>\n      <th>avg_sixes</th>\n      <td>0.204236</td>\n      <td>0.174829</td>\n      <td>0.702383</td>\n      <td>0.460319</td>\n      <td>0.547113</td>\n      <td>1.000000</td>\n    </tr>\n  </tbody>\n</table>\n</div>","text/plain":"               runs      ball  avg_runs  avg_fours    avg_bf  avg_sixes\nruns       1.000000  0.757104  0.258444   0.239287  0.237983   0.204236\nball       0.757104  1.000000  0.301006   0.294864  0.310276   0.174829\navg_runs   0.258444  0.301006  1.000000   0.916644  0.965561   0.702383\navg_fours  0.239287  0.294864  0.916644   1.000000  0.917454   0.460319\navg_bf     0.237983  0.310276  0.965561   0.917454  1.000000   0.547113\navg_sixes  0.204236  0.174829  0.702383   0.460319  0.547113   1.000000"},"exec_count":5}},"pos":7,"scrolled":false,"start":1653422642105,"state":"done","type":"cell"}
{"cell_type":"code","end":1653423008246,"exec_count":11,"id":"b87921","input":"fig, ax = plt.subplots(5)\nfor i in range(1, 5, 1):\n    ax[i].scatter(x = df[top_five[i]], y = df[\"runs\"])\n\nplt.show()","kernel":"python3-ubuntu","output":{"0":{"data":{"image/png":"f20f5d93a07a2bfdc5636559daa283daee77519a","text/plain":"<Figure size 864x504 with 5 Axes>"},"metadata":{"image/png":{"height":415,"width":714},"needs_background":"light"}}},"pos":8,"start":1653423005323,"state":"done","type":"cell"}
{"cell_type":"code","exec_count":0,"id":"440bde","input":"","pos":9,"type":"cell"}
{"cell_type":"code","exec_count":11,"id":"934291","input":"total_home_runs[curr_teams].plot(kind = \"bar\")","output":{"0":{"data":{"text/plain":"<matplotlib.axes._subplots.AxesSubplot at 0x7f102f7997f0>"},"exec_count":11,"output_type":"execute_result"},"1":{"data":{"image/png":"7f347a0b75f4ac8823988f87524b537e173f2308","text/plain":"<Figure size 864x504 with 1 Axes>"},"exec_count":11,"metadata":{"image/png":{"height":441,"width":722},"needs_background":"light"},"output_type":"execute_result"}},"pos":4,"scrolled":true,"type":"cell"}
{"cell_type":"code","exec_count":12,"id":"da0587","input":"total_away_runs[curr_teams].plot(kind = \"bar\")","output":{"0":{"data":{"text/plain":"<matplotlib.axes._subplots.AxesSubplot at 0x7f102f7083a0>"},"exec_count":12,"output_type":"execute_result"},"1":{"data":{"image/png":"9f91bb8a64711f5a8051c536f124e2f7f5775d6d","text/plain":"<Figure size 864x504 with 1 Axes>"},"exec_count":12,"metadata":{"image/png":{"height":441,"width":722},"needs_background":"light"},"output_type":"execute_result"}},"pos":5,"type":"cell"}
{"cell_type":"code","exec_count":13,"id":"16b27a","input":"top_stadiums = df.groupby(\"venue\").size().sort_values(ascending = False)[0:10].index.tolist()\nts = df[df[\"venue\"].isin(top_stadiums)]\n\nmean_runs_by_venue = ts.groupby(\"venue\")[\"runs\"].sum()\nmean_runs_by_venue = mean_runs_by_venue - (mean_runs_by_venue.mean())\nmean_runs_by_venue.plot(kind = \"bar\")","output":{"0":{"data":{"text/plain":"<matplotlib.axes._subplots.AxesSubplot at 0x7f102f6e27c0>"},"exec_count":13,"output_type":"execute_result"},"1":{"data":{"image/png":"332a76e1efb81c79bf7725e5bf4fc3aaf8318a79","text/plain":"<Figure size 864x504 with 1 Axes>"},"exec_count":13,"metadata":{"image/png":{"height":745,"width":724},"needs_background":"light"},"output_type":"execute_result"}},"pos":6,"type":"cell"}
{"cell_type":"code","exec_count":8,"id":"7b6775","input":"total_home_runs = df.groupby(\"home_team\")[\"runs\"].sum()\ntotal_away_runs = df.groupby(\"away_team\")[\"runs\"].sum()\n\ncurr_teams = [\"CSK\", \"MI\", \"DC\", \"SRH\", \"RCB\", \"RR\", \"KKR\", \"PBKS\"]","pos":3,"type":"cell"}
{"id":0,"time":1653422612190,"type":"user"}
{"last_load":1653422612115,"type":"file"}